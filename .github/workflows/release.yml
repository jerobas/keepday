name: Release Plugin

on:
    push:
        branches:
            - main

jobs: 
    use-template:
      uses: jerobas/.github/.github/workflows/update-readme.yml@main
      secrets: inherit
     
    release:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout repository
              uses: actions/checkout@v4

            - name: Create GitHub Release with JAR
              run: |
                tag=$(git describe --tags --abbrev=0)
                gh release create "$tag" --generate-notes build/libs/*.jar
              env:
               GH_TOKEN: ${{ secrets.GH_TOKEN }}
              shell: bash